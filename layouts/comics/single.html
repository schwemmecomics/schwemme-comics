{{ define "main" }}
<article style="max-width: 900px; margin: 0 auto; text-align: center; padding: 20px; font-family: sans-serif;">
    
    <h1>{{ .Title }}</h1>

    {{/* Navigation oben */}}
    {{ partial "comic-nav.html" . }}

    {{/* Das Comic-Bild */}}
    <div class="comic-display" style="margin: 30px 0;">
        {{ $comic := .Resources.GetMatch (printf "comic.%s.*" .Lang) | default (.Resources.GetMatch "comic.*") }}
        {{ if $comic }}
            <img src="{{ $comic.RelPermalink }}" alt="{{ .Title }}" style="max-width: 100%; height: auto; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
        {{ end }}
    </div>

    {{/* Navigation unten */}}
    {{ partial "comic-nav.html" . }}

    <div class="author-notes" style="text-align: left; background: #fdfdfd; padding: 30px; border: 1px solid #eee; border-radius: 8px; margin-top: 40px;">
        <h3 style="margin-top: 0; color: #555;">Notizen des Autors:</h3>
        {{ .Content }}
    </div>

    {{/* Cactus Comments */}}
    <div id="comment-section" style="margin-top: 60px;"></div>
    <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
    <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
    <script>
        initComments({
            node: document.getElementById("comment-section"),
            defaultSection: "comic-{{ .File.ContentBaseName }}",
            serverUrl: "https://matrix.cactus.chat:8448",
            siteName: "schwemme-comics-official" 
        })
    </script>
</article>
{{ end }}
